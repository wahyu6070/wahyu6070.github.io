{% capture spaceless %}
  {% assign total_pages = paginator.total_pages %}
  {% assign color_main  = page.color_main  | default: layout.color_main %}
{% endcapture %}

<nav class="pagination is-small is-centered"   role="navigation" aria-label="Page navigation example">
    <ul class="pagination"> 
  {% if total_pages > 1 %}

    {% capture spaceless %}
      <!-- Get paginate_root from page in frontmatter -->
      {% assign paginate_root = page.paginate_root %}    
      {% assign p_first = paginate_root %}
                        
      {% assign page_current = paginator.page %}
    {% endcapture %}

    <!-- First Page. -->
    {% unless paginator.page == 1 %}
    <li class="page-item">
      <a class="page-link"      href="{{ p_first }}"       rel="first">First</a>
    </li>
    {% else %}
    <li class="page-item">
      <a class="page-link active"
         title="This is the first page"
         disabled>First</a>
    </li>
    {% endunless %}

    <!-- Previous Page. -->
    
    {% if paginator.previous_page %}
    <li class="page-item active">
      {% assign p_prev = paginator.previous_page_path %}
                       
      <a class="page-link"
         href="{{ p_prev }}" 
         rel="prev">Previous</a>
    </li>
    {% else %}
    <li class="page-item">
      <a class="page-link"
         title="This is the first page"
         disabled>Previous</a>
    </li>
    {% endif %}
	</li>
    <!-- Next Page. -->
    
    {% if paginator.next_page %}
    <li class="page-item active">
      {% assign p_next = paginator.next_page_path %}
         <a class="page-link"   href="{{ p_next }}"  rel="next">Next</a>
    </li>
    {% else %}
    <li class="page-item">
      <a class="page-link"
         title="This is the last page"
         disabled>Next</a>
    <li>
    {% endif %}
	</li>
    <!-- Last Page. -->
    {% unless paginator.page == total_pages %}
      {% assign p_last = site.pagination.permalink
                       | prepend: paginate_root 
                       | relative_url 
                       | replace: ':num', total_pages 
      %}
     <li class="page-item active"> 
      <a class="page-link"
         href="{{ p_last }}"
         rel="last">Last</a>
     </li>
    {% else %}
    <li class="page-item">
      <a class="page-link"
         title="This is the last page"
         disabled>Last</a>
    </li>
    {% endunless %}

    
    <!-- Page numbers. -->
    {% for page in (1..total_pages) %}
      
      {% if page == page_current %}
      <li class="page-item active">
        <a class="page-link" 
           aria-label="Page {{ page }}">
          {{ page }}
        </a>
        </li>
      {% else %}

        {% if page == 1 %}
          {% assign p_link = p_first %}
        {% else %}
          {% assign p_link = site.pagination.permalink
                           | prepend: paginate_root
                           | relative_url
                           | replace: ':num', page
          %}
        {% endif %}
		<li class="page-item">
        <a class="page-link"
           href="{{ p_link }}"
           aria-label="Goto page {{ page }}">
          {{ page }}
        </a>
        </li>
       {% endif %}
      
    {% endfor %}
    

  {% endif %}
  </ul>
</nav>

